@using System.Globalization
@using Microsoft.AspNetCore.Builder
@using Microsoft.Extensions.Options
@using CleanArchitecture.Blazor.Server.UI.Services
@using CleanArchitecture.Blazor.Server.UI.Services.Layout
<MudTooltip Text="@CurrentLanguage">
    <MudMenu Class="mx-1" Icon="@Icons.Material.Outlined.Translate" Color="Color.Default" Dense="true">
        @if (SupportedLanguages is not null)
        {
            @foreach (var language in SupportedLanguages)
            {
                if (language.Name == CurrentLanguage)
                {
                    <MudMenuItem style="background:var(--mud-palette-primary); color:white">@language.DisplayName</MudMenuItem>
                }
                else
                {
                    <MudMenuItem OnClick="(()=> ChangeLanguageAsync(language.Name))">@language.DisplayName</MudMenuItem>
                }
            }
        }
    </MudMenu>
</MudTooltip>


